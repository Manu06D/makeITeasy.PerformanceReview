@page "/reviews"

@using makeITeasy.AppFramework.Core.Commands
@using makeITeasy.AppFramework.Core.Interfaces
@using makeITeasy.PerformanceReview.BlazorServerApp.Shared.Components
@using makeITeasy.PerformanceReview.BusinessCore.Queries.EmployeeQueries
@using makeITeasy.PerformanceReview.BusinessCore.Queries.PerformanceReviewEvalutationQueries
@using makeITeasy.PerformanceReview.Models

<GenericList TItem=Evaluation TViewItem=PerformanceReviewEvalutationViewModel TQuery=ManagerOrEmployeePerformanceReviewEvaluationQuery 
            Title="List of Reviews" CreateNewHandler="CreateNewAsync" DefaultSortColumn="Id" @ref="table" Query="defaultQuery">
    <HeaderContent>
        <MudTh><MudTableSortLabel SortLabel="Id" T="PerformanceReviewEvalutationViewModel" InitialDirection="SortDirection.Ascending">Id</MudTableSortLabel></MudTh>
        <MudTh><MudTableSortLabel SortLabel="Employee.LastName" T="PerformanceReviewEvalutationViewModel">EmployeeName</MudTableSortLabel></MudTh>
        <MudTh><MudTableSortLabel SortLabel="PerformanceReviewForm.Name" T="PerformanceReviewEvalutationViewModel">PerformanceReviewFormName</MudTableSortLabel></MudTh>
        <MudTh></MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Id">@context.Id</MudTd>
        <MudTd DataLabel="Name">@context.UserIdentityName</MudTd>
        <MudTd DataLabel="Name">@context.PerformanceReviewFormName</MudTd>
        <MudTd>
            <MudIconButton Icon="@Icons.Material.Filled.Edit" aria-label="delete" @onclick="@(()=>Edit(@context.Id))" Color="Color.Primary"></MudIconButton>
            @*<MudIconButton Icon="@Icons.Material.Filled.Delete" aria-label="delete" @onclick="@(()=>DeleteAsync(@context))" Color="Color.Secondary"></MudIconButton>*@
        </MudTd>
    </RowTemplate>
</GenericList>